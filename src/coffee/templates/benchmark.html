{% extends "base.html" %}

{% from "macros/breadcrumb.html" import breadcrumb %}
{% from "macros/interpret_safety_ratings.html" import interpret_safety_ratings %}
{% from "macros/use_hazards_limitations.html" import use_hazards_limitations %}


{% block title %}{{ benchmark_name }} Benchmark{% endblock %}

{% block content %}
    {{ breadcrumb(None, benchmark_definition) }}

    <div class="mlc--section">
        <h1 class="mlc--header">{{ content(benchmark_definition, "name") }} {% include "_provisional.html" %}</h1>
        <p class="mlc--subheader">
            {{ content(benchmark_definition, "tagline") }}
        </p>
    </div>

    {{ use_hazards_limitations(benchmark_definition) }}

    {{ interpret_safety_ratings() }}

    <div class="mlc--section__header">
        <h2>AI Systems Evaluated</h2>
        <p>
            {{ content("general", "ai_systems_evaluated") }}
        </p>
    </div>

    <figure class="mlc--section overflow-auto">
        <table>
            <thead>
            <tr>
                <th>AI System</th>
                <th>Overall Safety Rating</th>
                <th colspan="2">Explanation</th>
            </tr>
            </thead>
            <tbody>
            {% for benchmark_score in grouped_benchmark_scores[benchmark_definition] %}
                <tr>
                    <td>{{ content(benchmark_score.sut, "name") }}</td>
                    <td>
                        <span class="mlc--stars-container mlc--stars-container__inline">{{ benchmark_score.stars() | display_stars("sm") }}</span>
                        <span>{{ content("stars", benchmark_score.stars() | round | int | string)["rank"] }}</span>
                    </td>
                    <td>
                        {{ content("stars", benchmark_score.stars() | round | int | string)["explanation"] }}
                    </td>
                    <td class="mlc--button-container__align-right">
                        <a role="button" class="mlc--button__sm"
                           href="{{ test_report_path(benchmark_score.sut.name, benchmark_score.benchmark_definition.path_name()) }}">Show
                            Details &gt;</a>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </figure>

    <hr>

    <article class="mlc--card__muted-background">
        <h4>Don't see the AI system you are looking for?</h4>
        <p>
            {{ content("general", "new_benchmarks") }} <a href="">Learn more</a>
        </p>
    </article>
{% endblock %}
