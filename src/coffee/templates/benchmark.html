{% from "macros/breadcrumb.html" import breadcrumb %}
{% from "macros/interpret_safety_ratings.html" import interpret_safety_ratings %}
{% from "macros/use_hazards_limitations.html" import use_hazards_limitations %}

{% extends "base.html" %}

{% block title %}{{ benchmark_name }} Benchmark{% endblock %}

{% block content %}
    {{ breadcrumb(None, benchmark_definition) }}

    <div class="mlc--section">
      <h1 class="mlc--header">{{ benchmark_definition.name() }} {% include "_provisional.html" %}</h1>
        <p class="mlc--subheader">
            What does the benchmark do to test my use case explanation and context
            goes here lorem ipsum dolor sit amet, consectetur adipiscing elit.
        </p>
    </div>

    {{ use_hazards_limitations(benchmark_definition) }}

    {{ interpret_safety_ratings(stars_description) }}

    <div class="mlc--section__header">
        <h2>AI Systems Evaluated</h2>
        <p>
            Description goes here lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
            incididunt ut labore et dolore magna aliqua.
            Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
            consequat.
        </p>
    </div>

    <figure class="mlc--section overflow-auto">
        <table>
            <thead>
                <tr>
                    <th>AI System</th>
                    <th>Overall Safety Rating</th>
                    <th colspan="2">Explanation</th>
                </tr>
            </thead>
            <tbody>
                {% for benchmark_score in grouped_benchmark_scores[benchmark_definition] %}
                    <tr>
                        <td>{{ benchmark_score.sut.value[1] }}</td>
                        <td>
                            <span class="mlc--stars-container mlc--stars-container__inline">{{ benchmark_score.stars() | display_stars("sm") }}</span>
                            <span>{{ stars_description[benchmark_score.stars() | round | int]["rank"] }}</span>
                        </td>
                        <td>
                            {{ stars_description[benchmark_score.stars() | round | int]["explanation"] }}
                        </td>
                        <td class="mlc--button-container__align-right">
                          <a role="button" class="mlc--button__sm" href="{{ benchmark_score.sut.name }}_{{ benchmark_score.benchmark_definition.path_name() }}_report.html">Show Details &gt;</a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </figure>

    <hr>

    <article class="mlc--card__muted-background">
        <h4>Don't see the AI system you are looking for?</h4>
        <p>
            Explain how are new benchmarks are added. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
            do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim. <a href="">Learn more</a>
        </p>
    </article>
{% endblock %}
